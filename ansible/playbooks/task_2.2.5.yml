---
# Task 2.2.4: End-to-End Mail Flow Test
# 
# Purpose: Verify complete mail system functionality
# - Test all service statuses
# - Verify PostgreSQL integration
# - Test mail delivery (SMTP â†’ Dovecot)
# - Check IMAP access
# - Verify DKIM signing
# - Generate test report
#
# Usage: ./run_task.sh 2.2.4
# Or: ansible-playbook playbooks/task_2_2_4.yml

- name: Task 2.2.4 - End-to-End Mail Flow Test
  hosts: mail_servers
  become: yes
  gather_facts: yes
  
  tasks:
    - name: Include mail system testing playbook
      ansible.builtin.include_tasks:
        file: reusable/test_mail_system.yml
      tags:
        - test
        - mail
        - verification
