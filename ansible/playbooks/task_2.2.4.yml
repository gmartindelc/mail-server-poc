---
# Task 2.2.4: End-to-End Mail Flow Test
# 
# Purpose: Verify complete mail system functionality
# - Test all service statuses
# - Verify PostgreSQL integration
# - Test mail delivery (SMTP â†’ Dovecot)
# - Check IMAP access
# - Verify DKIM signing
# - Generate test report
#
# Usage: ansible-playbook playbooks/task_2.2.4.yml

- name: Task 2.2.4 - End-to-End Mail Flow Test
  hosts: all
  become: yes
  gather_facts: yes
  
  tasks:
    - name: Include mail system testing playbook
      ansible.builtin.include_tasks:
        file: test_mail_system.yml
      tags:
        - test
        - mail
        - verification
